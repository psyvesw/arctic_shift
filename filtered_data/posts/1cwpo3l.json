{
    "_meta": {
        "is_edited": true,
        "retrieved_2nd_on": 1716366826
    },
    "all_awardings": [],
    "allow_live_comments": false,
    "approved_at_utc": null,
    "approved_by": null,
    "archived": false,
    "author": "dosibjrn",
    "author_flair_background_color": null,
    "author_flair_css_class": null,
    "author_flair_richtext": [],
    "author_flair_template_id": null,
    "author_flair_text": null,
    "author_flair_text_color": null,
    "author_flair_type": "text",
    "author_fullname": "t2_f2hwg",
    "author_is_blocked": false,
    "author_patreon_flair": false,
    "author_premium": false,
    "awarders": [],
    "banned_at_utc": null,
    "banned_by": null,
    "can_gild": false,
    "can_mod_post": false,
    "category": null,
    "clicked": false,
    "content_categories": null,
    "contest_mode": false,
    "created": 1716237206,
    "created_utc": 1716237206,
    "discussion_type": null,
    "distinguished": null,
    "domain": "self.ChatGPT",
    "downs": 0,
    "edited": false,
    "gilded": 0,
    "gildings": {},
    "hidden": false,
    "hide_score": false,
    "id": "1cwpo3l",
    "is_created_from_ads_ui": false,
    "is_crosspostable": true,
    "is_meta": false,
    "is_original_content": false,
    "is_reddit_media_domain": false,
    "is_robot_indexable": true,
    "is_self": true,
    "is_video": false,
    "likes": null,
    "link_flair_background_color": "#7193ff",
    "link_flair_css_class": "",
    "link_flair_richtext": [
        {
            "e": "text",
            "t": "Prompt engineering "
        }
    ],
    "link_flair_template_id": "b5394392-9962-11ed-af6a-768e8d834d7a",
    "link_flair_text": "Prompt engineering ",
    "link_flair_text_color": "dark",
    "link_flair_type": "richtext",
    "locked": false,
    "media": null,
    "media_embed": {},
    "media_only": false,
    "mod_note": null,
    "mod_reason_by": null,
    "mod_reason_title": null,
    "mod_reports": [],
    "name": "t3_1cwpo3l",
    "no_follow": true,
    "num_comments": 1,
    "num_crossposts": 0,
    "num_reports": null,
    "over_18": false,
    "parent_whitelist_status": "all_ads",
    "permalink": "/r/ChatGPT/comments/1cwpo3l/prompt_for_estimating_nutritional_values_of_image/",
    "pinned": false,
    "post_hint": "self",
    "preview": {
        "enabled": false,
        "images": [
            {
                "id": "Yik6ufChGgdJucd4T-ONe_bYMTS7JxELZZivMFzzihE",
                "resolutions": [
                    {
                        "height": 56,
                        "url": "https://external-preview.redd.it/rKE3WZQsWUf4dh0y_3Xefs2XasLEp_b4eeOFeQndPzk.jpg?width=108&crop=smart&auto=webp&s=bce68e7964c52cb01eee551c419b97b79df3cf96",
                        "width": 108
                    },
                    {
                        "height": 113,
                        "url": "https://external-preview.redd.it/rKE3WZQsWUf4dh0y_3Xefs2XasLEp_b4eeOFeQndPzk.jpg?width=216&crop=smart&auto=webp&s=a739a4c8841617f86a9584580eff590803479d63",
                        "width": 216
                    },
                    {
                        "height": 168,
                        "url": "https://external-preview.redd.it/rKE3WZQsWUf4dh0y_3Xefs2XasLEp_b4eeOFeQndPzk.jpg?width=320&crop=smart&auto=webp&s=fb5e1bf766b83dd997a5bd62e37aff3150df203f",
                        "width": 320
                    },
                    {
                        "height": 336,
                        "url": "https://external-preview.redd.it/rKE3WZQsWUf4dh0y_3Xefs2XasLEp_b4eeOFeQndPzk.jpg?width=640&crop=smart&auto=webp&s=ff6e62858e42032537fbd134e1dcc9d68a38447a",
                        "width": 640
                    },
                    {
                        "height": 504,
                        "url": "https://external-preview.redd.it/rKE3WZQsWUf4dh0y_3Xefs2XasLEp_b4eeOFeQndPzk.jpg?width=960&crop=smart&auto=webp&s=dc46f128e120c59023995de9c903f5162a8a6dec",
                        "width": 960
                    },
                    {
                        "height": 567,
                        "url": "https://external-preview.redd.it/rKE3WZQsWUf4dh0y_3Xefs2XasLEp_b4eeOFeQndPzk.jpg?width=1080&crop=smart&auto=webp&s=30e7b920effd302ea09909cee3cd0b3e9381fe1c",
                        "width": 1080
                    }
                ],
                "source": {
                    "height": 630,
                    "url": "https://external-preview.redd.it/rKE3WZQsWUf4dh0y_3Xefs2XasLEp_b4eeOFeQndPzk.jpg?auto=webp&s=9054452167dd949dc98cb4f2014ac38e82c9dab9",
                    "width": 1200
                },
                "variants": {}
            }
        ]
    },
    "pwls": 6,
    "quarantine": false,
    "removal_reason": null,
    "removed_by": null,
    "removed_by_category": null,
    "report_reasons": null,
    "retrieved_on": 1716237225,
    "saved": false,
    "score": 1,
    "secure_media": null,
    "secure_media_embed": {},
    "selftext": "I've tried long and complex prompts for my app \\[Calora\\](https://apps.apple.com/fi/app/calora/id6475647627).  \n\n\nRight now we're going with this:  \n\n\n\"\n\nFor attached image, estimate the range (low, high) for 1) weight, 2) calories, 3) protein, 4) carbs, 5) fat. Offer a range of combined totals for multiple items in image. If available, use hints to understand smaller than usual portion sizes. After reviewing image, condense your estimates into one 'RESULT' line and one 'TITLE' line. Use the format: 'RESULT, total\\_weight\\_min, total\\_weight\\_max, total\\_kcal\\_min, total\\_kcal\\_max, g\\_protein\\_min, g\\_protein\\_max, g\\_carbs\\_min, g\\_carbs\\_max, g\\_fat\\_min, g\\_fat\\_max', followed by 'TITLE, \\[combined title for all images\\]'. In last two lines, only include 'RESULT', 'TITLE', commas, and floats. No formatting.\n\n\"  \n\n\nMost if it is just ensuring results are easy to parse.  \n\n\nWe are using nutrition5k database with ground truth values to validate accuracy. It tends to do well, but one can always do better. I've added some images to ground truth data where I've weighted the foods and know what they are, allowing me to get reasonable estimates from database based approach.  \n\n\nOne problem is that it assumes quite high thickness for ham, cheese, bread, likely some default US portions. Hinting about smaller portions helps a tad, but there's still some reasonably common errors in this direction.  \n\n\n\\[Here\\]([https://dosibjrn.github.io](https://dosibjrn.github.io/)/report-2024-05-15-2242-gpt4o-seed123-t0-g0-adj-50-hardest.html) are results for 50 of the hardest cases out of 660 I'm currently using for wider quality assessment.  \n\n\nAny tips or thoughts regarding the prompt on improving accuracy for the more challenging images? GPT itself is coming up with ideas resulting in just way worse results.  \n\n\nIf you want to try how the prompt does within the app we have 5 free images or analysis per day right now.",
    "send_replies": true,
    "spoiler": false,
    "stickied": false,
    "subreddit": "ChatGPT",
    "subreddit_id": "t5_7hqomg",
    "subreddit_name_prefixed": "r/ChatGPT",
    "subreddit_subscribers": 5551727,
    "subreddit_type": "public",
    "suggested_sort": null,
    "thumbnail": "self",
    "thumbnail_height": null,
    "thumbnail_width": null,
    "title": "Prompt for estimating nutritional values of image",
    "top_awarded_type": null,
    "total_awards_received": 0,
    "treatment_tags": [],
    "ups": 1,
    "upvote_ratio": 0.6000000238418579,
    "url": "https://www.reddit.com/r/ChatGPT/comments/1cwpo3l/prompt_for_estimating_nutritional_values_of_image/",
    "user_reports": [],
    "view_count": null,
    "visited": false,
    "whitelist_status": "all_ads",
    "wls": 6
}